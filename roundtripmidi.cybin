os.execute('jack_connect cybin:midi-out_1 cybin:midi-in_1')
frame=0
lastTime=0
lastDelta=1
function __process()
   if #cybin.midiin>0 then
      for i=1,#cybin.midiin do
	 local e = cybin.midiin[i]
	 print(1000*((e.time-lastTime)-lastDelta),'ms','',e.port,e[1],e[2],e[3])
	 lastDelta=e.time-lastTime
	 lastTime=e.time
      end
      cybin.midiin = {}
   end
   if math.mod(frame,100) == 0 then cybin.midiout(0,1,2,3) end
   frame=frame+1
end
